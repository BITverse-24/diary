(()=>{var e={};e.id=453,e.ids=[453],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4821:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},2048:e=>{"use strict";e.exports=require("fs")},629:e=>{"use strict";e.exports=require("fs/promises")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},6596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,originalPathname:()=>b,pages:()=>u,routeModule:()=>f,tree:()=>c}),r(3457),r(7587),r(5866);var a=r(3191),n=r(8716),o=r(7922),s=r.n(o),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3457)),"C:\\Users\\My PC\\mern\\diary\\web\\app\\new\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7587)),"C:\\Users\\My PC\\mern\\diary\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\My PC\\mern\\diary\\web\\app\\new\\page.tsx"],b="/new/page",d={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/new/page",pathname:"/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4284:(e,t,r)=>{let a={"4c464036380f33439f3239749b5821b8f037d594":()=>Promise.resolve().then(r.bind(r,9515)).then(e=>e.insert),"56360bea1dea14fd4727a71151aab8026874d40e":()=>Promise.resolve().then(r.bind(r,9515)).then(e=>e.get),"0bf340dee93641e0b20402bbb5b269b9ac660d2f":()=>Promise.resolve().then(r.bind(r,7193)).then(e=>e.encryptData),"84ece28bf148739bd0471c76aefb72c32d5a82c9":()=>Promise.resolve().then(r.bind(r,7193)).then(e=>e.decryptData)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"4c464036380f33439f3239749b5821b8f037d594":n.bind(null,"4c464036380f33439f3239749b5821b8f037d594"),"56360bea1dea14fd4727a71151aab8026874d40e":n.bind(null,"56360bea1dea14fd4727a71151aab8026874d40e"),"0bf340dee93641e0b20402bbb5b269b9ac660d2f":n.bind(null,"0bf340dee93641e0b20402bbb5b269b9ac660d2f"),"84ece28bf148739bd0471c76aefb72c32d5a82c9":n.bind(null,"84ece28bf148739bd0471c76aefb72c32d5a82c9")}},1903:(e,t,r)=>{Promise.resolve().then(r.bind(r,7796))},7796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(326),n=r(7577),o=r(5047),s=r(2881);let i=(0,s.Z)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),l=(0,s.Z)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),c=(0,s.Z)("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]),u=(0,s.Z)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var b=r(7880),d=r(2522),f=r(7713);function p(){let[e,t]=(0,n.useState)(""),r=(0,o.useRouter)(),{password:s}=(0,d.a)().state,p=e=>{let r=document.getElementById("editor"),a=r.selectionStart,n=r.selectionEnd,o=r.value,s=o.substring(0,a),i=o.substring(a,n),l=o.substring(n);t(`${s}${e}${i}${e}${l}`),r.focus(),r.setSelectionRange(a+e.length,n+e.length)};return(0,a.jsxs)("div",{className:"w-full max-w-4xl",children:[a.jsx("h1",{className:"text-3xl font-eb-garamond mb-8 text-brown-900 dark:text-blue-100",children:"New Entry"}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault();let a=e.split("\n")[0].trim(),n=e.split("\n").slice(1).join("\n").trim();(0,f.q)(n,s).then(e=>{(0,b.$)(a,e,s).then(e=>{if(!e)return alert("Unable to save entry :(");r.push("/entries")})})},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex space-x-2 mb-2",children:[a.jsx("button",{type:"button",onClick:()=>p("**"),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:a.jsx(i,{size:20,className:"text-brown-800 dark:text-blue-100"})}),a.jsx("button",{type:"button",onClick:()=>p("*"),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:a.jsx(l,{size:20,className:"text-brown-800 dark:text-blue-100"})}),a.jsx("button",{type:"button",onClick:()=>p("# "),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:a.jsx(c,{size:20,className:"text-brown-800 dark:text-blue-100"})}),a.jsx("button",{type:"button",onClick:()=>p("- "),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:a.jsx(u,{size:20,className:"text-brown-800 dark:text-blue-100"})})]}),a.jsx("textarea",{id:"editor",value:e,onChange:e=>t(e.target.value),className:"w-full h-64 p-4 font-special-elite text-brown-800 dark:text-blue-100 bg-parchment-light dark:bg-navy-900 border-2 border-brown-300 dark:border-blue-700 rounded-md resize-none focus:outline-none focus:border-brown-600 dark:focus:border-blue-500 transition-colors",placeholder:"Dear Diary..."}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-brown-700 dark:bg-blue-800 text-parchment dark:text-blue-100 rounded-md hover:bg-brown-800 dark:hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-brown-600 dark:focus:ring-blue-500 focus:ring-opacity-50",children:"Save Entry"})]})]})}},7880:(e,t,r)=>{"use strict";r.d(t,{$:()=>n}),r(5424);var a=r(6242);(0,a.$)("56360bea1dea14fd4727a71151aab8026874d40e");var n=(0,a.$)("4c464036380f33439f3239749b5821b8f037d594")},7713:(e,t,r)=>{"use strict";r.d(t,{o:()=>n,q:()=>o}),r(5424);var a=r(6242),n=(0,a.$)("84ece28bf148739bd0471c76aefb72c32d5a82c9"),o=(0,a.$)("0bf340dee93641e0b20402bbb5b269b9ac660d2f")},3457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\My PC\mern\diary\web\app\new\page.tsx#default`)},7193:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decryptData:()=>f,encryptData:()=>d});var a=r(7745);r(6461);var n=r(9313);let o=require("argon2");var s=r.n(o),i=r(4770),l=r.n(i),c=r(5723);e=r.hmd(e);let u="aes-256-gcm";async function b(e,t){console.log("--- Deriving Key ---\n"),console.log(`Password: ${e}
`),console.log(`Salt (16 bytes): ${Buffer.from(t).toString("hex")}
`);let r=await s().hash(e,{type:s().argon2id,hashLength:64,salt:t,timeCost:3,memoryCost:32768,parallelism:4,raw:!0}),a=Buffer.from(r);return console.log(`Derived Seed (64 bytes): ${Buffer.from(a).toString("hex")}
`),a}async function d(e,t){console.log("--- Encryption Process Started ---\n"),console.log(`Plaintext: ${e}`);let r=Buffer.from(e,"utf8"),a=l().randomBytes(16);console.log(`Generated Salt (16 bytes): ${Buffer.from(a).toString("hex")}`);let o=await b(t,a);if(64!==o.length)throw Error(`Invalid seed length: ${o.length}. Expected 64 bytes.`);let s=new n.Dr;console.log("--- Deriving Key Pair ---\n");let[i,c]=await s.deriveKeyPair(o);console.log(`Public Key: ${Buffer.from(i).toString("hex")}`),console.log(`Private Key: ${Buffer.from(c).toString("hex").substring(0,64)}... [truncated]`);let d=l().randomBytes(12);console.log(`Private Key Encryption IV (12 bytes): ${Buffer.from(d).toString("hex")}`);let f=l().createCipheriv(u,o.subarray(0,32),d),p=Buffer.concat([f.update(c),f.final()]),g=f.getAuthTag();console.log(`
Encrypted Private Key: ${Buffer.from(p).toString("hex").substring(0,64)}... [truncated]`),console.log(`
Private Key Auth Tag (16 bytes): ${Buffer.from(g).toString("hex")}`),console.log("--- Encapsulating Session Key ---");let[h,y]=await s.encap(i);console.log(`
Kyber Ciphertext (1088 bytes): ${Buffer.from(h).toString("hex").substring(0,64)}... [truncated]`),console.log(`
Session Key: ${Buffer.from(y).toString("hex")}`);let x=l().randomBytes(12);console.log(`
Data Encryption IV (12 bytes): ${Buffer.from(x).toString("hex")}`);let m=l().createCipheriv(u,y,x),v=Buffer.concat([m.update(r),m.final()]),w=m.getAuthTag();console.log(`
Encrypted Data: ${Buffer.from(v).toString("hex").substring(0,64)}... [truncated]`),console.log(`
Data Auth Tag (16 bytes): ${Buffer.from(w).toString("hex")}`);let k=Buffer.concat([a,d,g,p,h,x,w,v]);return console.log("--- Encryption Process Completed ---\n"),console.log(`
Final Encrypted Blob (base64): ${k.toString("base64").substring(0,64)}... [truncated]
`),k.toString("base64")}async function f(e,t){let r=Buffer.from(e,"base64"),a=0,o=r.subarray(a,a+16);a+=16;let s=r.subarray(a,a+12);a+=12;let i=r.subarray(a,a+16);a+=16;let c=r.subarray(a,a+2400);a+=2400;let d=r.subarray(a,a+1088);a+=1088;let f=r.subarray(a,a+12);a+=12;let p=r.subarray(a,a+16);a+=16;let g=r.subarray(a),h=await b(t,o);if(64!==h.length)throw Error(`Invalid seed length: ${h.length}. Expected 64 bytes.`);let y=l().createDecipheriv(u,h.subarray(0,32),s);y.setAuthTag(i);let x=Buffer.concat([y.update(c),y.final()]),m=new n.Dr,v=await m.decap(d,x),w=l().createDecipheriv(u,v,f);return w.setAuthTag(p),Buffer.concat([w.update(g),w.final()]).toString("utf-8")}async function p(){let e="StrongPassword123",t=await d("My secret diary entry",e),r=await f(t,e);console.log(`Decrypted: ${r}`)}r.c[r.s]===e&&p().catch(console.error),(0,c.h)([d,f]),(0,a.j)("0bf340dee93641e0b20402bbb5b269b9ac660d2f",d),(0,a.j)("84ece28bf148739bd0471c76aefb72c32d5a82c9",f)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[666,362,785,49,939],()=>r(6596));module.exports=a})();