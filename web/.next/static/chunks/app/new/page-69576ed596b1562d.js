(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{1378:function(e,t,r){Promise.resolve().then(r.bind(r,2122))},2122:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),o=r(2265),a=r(9376),s=r(9205);let u=(0,s.Z)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),l=(0,s.Z)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),c=(0,s.Z)("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]),i=(0,s.Z)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var d=r(5608),b=r(6993),h=r(3439);function f(){let[e,t]=(0,o.useState)(""),r=(0,a.useRouter)(),{password:s}=(0,b.a)().state,f=e=>{let r=document.getElementById("editor"),n=r.selectionStart,o=r.selectionEnd,a=r.value,s=a.substring(0,n),u=a.substring(n,o),l=a.substring(o);t("".concat(s).concat(e).concat(u).concat(e).concat(l)),r.focus(),r.setSelectionRange(n+e.length,o+e.length)};return(0,n.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,n.jsx)("h1",{className:"text-3xl font-eb-garamond mb-8 text-brown-900 dark:text-blue-100",children:"New Entry"}),(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault();let n=e.split("\n")[0].trim(),o=e.split("\n").slice(1).join("\n").trim();(0,h.q)(o,s).then(e=>{(0,d.$)(n,e,s).then(e=>{if(!e)return alert("Unable to save entry :(");r.push("/entries")})})},className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>f("**"),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:(0,n.jsx)(u,{size:20,className:"text-brown-800 dark:text-blue-100"})}),(0,n.jsx)("button",{type:"button",onClick:()=>f("*"),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:(0,n.jsx)(l,{size:20,className:"text-brown-800 dark:text-blue-100"})}),(0,n.jsx)("button",{type:"button",onClick:()=>f("# "),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:(0,n.jsx)(c,{size:20,className:"text-brown-800 dark:text-blue-100"})}),(0,n.jsx)("button",{type:"button",onClick:()=>f("- "),className:"p-2 bg-brown-200 dark:bg-blue-800 rounded hover:bg-brown-300 dark:hover:bg-blue-700 transition-colors",children:(0,n.jsx)(i,{size:20,className:"text-brown-800 dark:text-blue-100"})})]}),(0,n.jsx)("textarea",{id:"editor",value:e,onChange:e=>t(e.target.value),className:"w-full h-64 p-4 font-special-elite text-brown-800 dark:text-blue-100 bg-parchment-light dark:bg-navy-900 border-2 border-brown-300 dark:border-blue-700 rounded-md resize-none focus:outline-none focus:border-brown-600 dark:focus:border-blue-500 transition-colors",placeholder:"Dear Diary..."}),(0,n.jsx)("button",{type:"submit",className:"px-6 py-2 bg-brown-700 dark:bg-blue-800 text-parchment dark:text-blue-100 rounded-md hover:bg-brown-800 dark:hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-brown-600 dark:focus:ring-blue-500 focus:ring-opacity-50",children:"Save Entry"})]})]})}},6993:function(e,t,r){"use strict";r.d(t,{StateProvider:function(){return l},a:function(){return c}});var n=r(7437),o=r(2265),a=(e,t)=>{switch(t.type){case"PASSWORD":return{...e,password:t.payload};case"ENTRY":return{...e,entries:t.payload};case"DB_CONFIG":return{...e,dbConfig:t.payload};default:return e}};let s={password:"",entries:[]},u=(0,o.createContext)({state:s,dispatch:()=>{}}),l=e=>{let{children:t}=e,[r,l]=(0,o.useReducer)(a,s);return(0,n.jsx)(u.Provider,{value:{state:r,dispatch:l},children:t})},c=()=>(0,o.useContext)(u)},5608:function(e,t,r){"use strict";r.d(t,{$:function(){return a},U:function(){return o}}),r(3079);var n=r(2119),o=(0,n.$)("56360bea1dea14fd4727a71151aab8026874d40e"),a=(0,n.$)("4c464036380f33439f3239749b5821b8f037d594")},3439:function(e,t,r){"use strict";r.d(t,{o:function(){return o},q:function(){return a}}),r(3079);var n=r(2119),o=(0,n.$)("84ece28bf148739bd0471c76aefb72c32d5a82c9"),a=(0,n.$)("0bf340dee93641e0b20402bbb5b269b9ac660d2f")},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(2265);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:l,className:c="",children:i,iconNode:d,...b}=e;return(0,n.createElement)("svg",{ref:t,...s,width:o,height:o,stroke:r,strokeWidth:l?24*Number(u)/Number(o):u,className:a("lucide",c),...b},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(i)?i:[i]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,n.createElement)(u,{ref:s,iconNode:t,className:a("lucide-".concat(o(e)),l),...c})});return r.displayName="".concat(e),r}},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},2119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return o}});let n=r(3079);function o(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1378)}),_N_E=e.O()}]);