(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{2296:function(e,t,r){Promise.resolve().then(r.bind(r,4258))},4258:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7437),o=r(2265),a=r(9376),s=r(9205);let l=(0,s.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var c=r(6993);let i=(0,s.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),u=(0,s.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),d=(0,s.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),b=(0,s.Z)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var f=r(257);let x=(0,o.forwardRef)((e,t)=>{let[r,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[x,h]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1),{state:g,dispatch:y}=(0,c.a)();return(0,o.useImperativeHandle)(t,()=>({getConfig:()=>({accessKeyId:r,secretKey:s,region:x})})),(0,o.useEffect)(()=>{(async()=>{var e;if((null===(e=g.dbConfig)||void 0===e?void 0:e.type)==="aws"){let e=g.dbConfig.config;a(e.accessKeyId||""),l(e.secretKey||""),h(e.region||"")}else a(f.env.NEXT_PUBLIC_AWS_ACCESS_KEY_ID||""),l(f.env.NEXT_PUBLIC_AWS_SECRET_ACCESS_KEY||""),h(f.env.NEXT_PUBLIC_AWS_REGION||"")})()},[g.dbConfig]),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"accessKeyId",className:"block text-sm font-medium text-brown-800 dark:text-blue-200",children:"AWS Access Key ID"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,n.jsx)(i,{className:"h-4 w-4 text-brown-600 dark:text-blue-400"})}),(0,n.jsx)("input",{id:"accessKeyId",type:"text",value:r,onChange:e=>a(e.target.value),className:"w-full pl-10 px-4 py-2 bg-transparent border-b-2 border-brown-600 dark:border-blue-500 focus:outline-none focus:border-brown-900 dark:focus:border-blue-300 transition-colors text-brown-800 dark:text-blue-100",placeholder:"Enter your AWS Access Key ID"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"secretKey",className:"block text-sm font-medium text-brown-800 dark:text-blue-200",children:"AWS Secret Key"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,n.jsx)(i,{className:"h-4 w-4 text-brown-600 dark:text-blue-400"})}),(0,n.jsx)("input",{id:"secretKey",type:p?"text":"password",value:s,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-10 py-2 bg-transparent border-b-2 border-brown-600 dark:border-blue-500 focus:outline-none focus:border-brown-900 dark:focus:border-blue-300 transition-colors text-brown-800 dark:text-blue-100",placeholder:"Enter your AWS Secret Key"}),(0,n.jsx)("button",{type:"button",onClick:()=>m(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-brown-600 dark:text-blue-400 hover:text-brown-800 dark:hover:text-blue-200",children:p?(0,n.jsx)(u,{className:"h-4 w-4"}):(0,n.jsx)(d,{className:"h-4 w-4"})})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"region",className:"block text-sm font-medium text-brown-800 dark:text-blue-200",children:"AWS Region"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,n.jsx)(b,{className:"h-4 w-4 text-brown-600 dark:text-blue-400"})}),(0,n.jsx)("input",{id:"region",type:"text",value:x,onChange:e=>h(e.target.value),className:"w-full pl-10 px-4 py-2 bg-transparent border-b-2 border-brown-600 dark:border-blue-500 focus:outline-none focus:border-brown-900 dark:focus:border-blue-300 transition-colors text-brown-800 dark:text-blue-100",placeholder:"Enter your AWS Region (e.g., us-east-1)"})]})]}),(0,n.jsx)("p",{className:"text-xs text-brown-600 dark:text-blue-400 mt-4",children:"These credentials will be securely stored and used to connect to your AWS DynamoDB database."})]})}),h=(0,s.Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var p=r(257);let m=(0,o.forwardRef)((e,t)=>{let[r,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(!1),{state:i,dispatch:b}=(0,c.a)();return(0,o.useImperativeHandle)(t,()=>({getConfig:()=>({connectionString:r})})),(0,o.useEffect)(()=>{(async()=>{var e;(null===(e=i.dbConfig)||void 0===e?void 0:e.type)==="mongo"?a(i.dbConfig.config.connectionString||""):a(p.env.NEXT_PUBLIC_MONGODB_URI||"")})()},[i.dbConfig]),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"connectionString",className:"block text-sm font-medium text-brown-800 dark:text-blue-200",children:"Connection String"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,n.jsx)(h,{className:"h-4 w-4 text-brown-600 dark:text-blue-400"})}),(0,n.jsx)("input",{id:"connectionString",type:s?"text":"password",value:r,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-10 py-2 bg-transparent border-b-2 border-brown-600 dark:border-blue-500 focus:outline-none focus:border-brown-900 dark:focus:border-blue-300 transition-colors text-brown-800 dark:text-blue-100",placeholder:"mongodb://username:password@host:port/database"}),(0,n.jsx)("button",{type:"button",onClick:()=>l(!s),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-brown-600 dark:text-blue-400 hover:text-brown-800 dark:hover:text-blue-200",children:s?(0,n.jsx)(u,{className:"h-4 w-4"}):(0,n.jsx)(d,{className:"h-4 w-4"})})]})]}),(0,n.jsxs)("p",{className:"text-xs text-brown-600 dark:text-blue-400 mt-4",children:["For MongoDB: ",(0,n.jsx)("span",{className:"font-mono",children:"mongodb://username:password@host:port/database"}),(0,n.jsx)("br",{}),"For MySQL: ",(0,n.jsx)("span",{className:"font-mono",children:"mysql://username:password@host:port/database"}),(0,n.jsx)("br",{}),"For PostgreSQL: ",(0,n.jsx)("span",{className:"font-mono",children:"postgresql://username:password@host:port/database"})]})]})});r(3079);var g=r(2119),y=(0,g.$)("b972c7f1ab6d0603a1c99b74ffcb332ec62f2c59");function v(){let[e,t]=(0,o.useState)("aws"),[r,s]=(0,o.useState)(!1),[i,u]=(0,o.useState)(null),d=(0,a.useRouter)(),{state:b,dispatch:f}=(0,c.a)(),h=(0,o.useRef)(null),p=(0,o.useRef)(null),g=async()=>{try{let t;if(s(!0),u(null),"aws"===e&&h.current)t={type:"aws",config:h.current.getConfig()};else if("mongo"===e&&p.current)t={type:"mongo",config:p.current.getConfig()};else throw Error("Could not get configuration");f({type:"DB_CONFIG",payload:t}),await y(t)?(u({type:"success",text:"Database configuration saved successfully"}),setTimeout(()=>d.push("/"),1500)):u({type:"error",text:"Failed to save database configuration"})}catch(e){console.error("Error saving settings:",e),u({type:"error",text:"An error occurred while saving settings"})}finally{s(!1)}};return(0,n.jsxs)("div",{className:"w-full max-w-md",children:[(0,n.jsx)("h1",{className:"text-4xl font-eb-garamond mb-8 text-center text-brown-900 dark:text-blue-100",children:"Database Settings"}),(0,n.jsxs)("div",{className:"bg-parchment-dark dark:bg-navy-900 p-8 rounded-lg shadow-lg border-2 border-brown-600 dark:border-blue-700",children:[(0,n.jsxs)("div",{className:"flex mb-6 border-b border-brown-600 dark:border-blue-700",children:[(0,n.jsx)("button",{className:"flex-1 py-2 px-4 font-eb-garamond text-lg ".concat("aws"===e?"border-b-2 border-brown-800 dark:border-blue-500 text-brown-900 dark:text-blue-100":"text-brown-600 dark:text-blue-400 hover:text-brown-800 dark:hover:text-blue-200"),onClick:()=>t("aws"),children:"AWS DynamoDB"}),(0,n.jsx)("button",{className:"flex-1 py-2 px-4 font-eb-garamond text-lg ".concat("mongo"===e?"border-b-2 border-brown-800 dark:border-blue-500 text-brown-900 dark:text-blue-100":"text-brown-600 dark:text-blue-400 hover:text-brown-800 dark:hover:text-blue-200"),onClick:()=>t("mongo"),children:"MongoDB / SQL"})]}),(0,n.jsx)("div",{className:"mt-4",children:"aws"===e?(0,n.jsx)(x,{ref:h}):(0,n.jsx)(m,{ref:p})}),i&&(0,n.jsx)("div",{className:"mt-4 p-2 rounded ".concat("success"===i.type?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-100"),children:i.text}),(0,n.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,n.jsx)("button",{onClick:()=>d.push("/"),className:"px-4 py-2 font-eb-garamond border border-brown-600 dark:border-blue-700 text-brown-800 dark:text-blue-200 rounded-md hover:bg-brown-100 dark:hover:bg-blue-900 transition-colors focus:outline-none focus:ring-2 focus:ring-brown-600 dark:focus:ring-blue-500 focus:ring-opacity-50",children:"Cancel"}),(0,n.jsxs)("button",{onClick:g,disabled:r,className:"px-4 py-2 font-eb-garamond bg-brown-700 dark:bg-blue-800 text-parchment dark:text-blue-100 rounded-md hover:bg-brown-800 dark:hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-brown-600 dark:focus:ring-blue-500 focus:ring-opacity-50 flex items-center ".concat(r?"opacity-70 cursor-not-allowed":""),children:[(0,n.jsx)(l,{className:"mr-2",size:18}),r?"Saving...":"Save Settings"]})]})]})]})}(0,g.$)("a03868e9a7215603f9d673cd4ee1cd7a48e8acaa"),(0,g.$)("f20badd17b67320a503118ef51c8ac258764e88b")},6993:function(e,t,r){"use strict";r.d(t,{StateProvider:function(){return c},a:function(){return i}});var n=r(7437),o=r(2265),a=(e,t)=>{switch(t.type){case"PASSWORD":return{...e,password:t.payload};case"ENTRY":return{...e,entries:t.payload};case"DB_CONFIG":return{...e,dbConfig:t.payload};default:return e}};let s={password:"",entries:[]},l=(0,o.createContext)({state:s,dispatch:()=>{}}),c=e=>{let{children:t}=e,[r,c]=(0,o.useReducer)(a,s);return(0,n.jsx)(l.Provider,{value:{state:r,dispatch:c},children:t})},i=()=>(0,o.useContext)(l)},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2265);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:i="",children:u,iconNode:d,...b}=e;return(0,n.createElement)("svg",{ref:t,...s,width:o,height:o,stroke:r,strokeWidth:c?24*Number(l)/Number(o):l,className:a("lucide",i),...b},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:c,...i}=r;return(0,n.createElement)(l,{ref:s,iconNode:t,className:a("lucide-".concat(o(e)),c),...i})});return r.displayName="".concat(e),r}},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},257:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(4227)},2119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return o}});let n=r(3079);function o(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}},4227:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c=[],i=!1,u=-1;function d(){i&&n&&(i=!1,n.length?c=n.concat(c):u=-1,c.length&&b())}function b(){if(!i){var e=l(d);i=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,i=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function x(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||i||l(b)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=x,o.addListener=x,o.once=x,o.off=x,o.removeListener=x,o.removeAllListeners=x,o.emit=x,o.prependListener=x,o.prependOnceListener=x,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}},s=!0;try{t[e](a,a.exports,n),s=!1}finally{s&&delete r[e]}return a.exports}n.ab="//";var o=n(229);e.exports=o}()}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2296)}),_N_E=e.O()}]);